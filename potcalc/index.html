<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width,user-scalable=no" />
<link rel="stylesheet" type="text/css" href="stylesheets/style.css" />
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<title>Sidepot calculator</title>
</head>

<body>
<div class="title">
	<!-- <img class="logo" src="imgs/icon144.png"> -->
	<div class="tabs">Sidepot Calculator</div>
</div>
<div id="operatePane" class="dashPane"></div>
<div id="toolPane" class="dashPane">
	<table>
		<tr>
			<td class="allinleft"><input type="tel" id="allin-1" class="allinInput" placeholder="All in金额" /></td>
			<td><div class="sidepoolres" id="sidepool1"></div></td>
		</tr>
		<tr>
			<td class="allinleft"><input type="tel" id="allin-2" class="allinInput" placeholder="All in金额" /></td>
			<td><div class="sidepoolres" id="sidepool2"></div></td>
		</tr>
		<tr>
			<td class="allinleft"><input type="tel" id="allin-3" class="allinInput" placeholder="All in金额" /></td>
			<td><div class="sidepoolres" id="sidepool3"></div></td>
		</tr>
		<tr>
			<td class="allinleft"><input type="tel" id="allin-4" class="allinInput" placeholder="All in金额" /></td>
			<td><div class="sidepoolres" id="sidepool4"></div></td>
		</tr>
		<tr>
			<td class="allinleft"><input type="tel" id="allin-5" class="allinInput" placeholder="All in金额" /></td>
			<td><div class="sidepoolres" id="sidepool5"></div></td>
		</tr>
		<tr>
			<td class="allinleft"><input type="tel" id="allin-6" class="allinInput" placeholder="All in金额" /></td>
			<td><div class="sidepoolres" id="sidepool6"></div></td>
		</tr>
		<tr>
			<td class="allinleft"><input type="tel" id="allin-7" class="allinInput" placeholder="All in金额" /></td>
			<td><div class="sidepoolres" id="sidepool7"></div></td>
		</tr>
		<tr>
			<td class="allinleft"><input type="tel" id="allin-8" class="allinInput" placeholder="All in金额" /></td>
			<td><div class="sidepoolres" id="sidepool8"></div></td>
		</tr>
		<tr>
			<td class="allinleft"><input type="tel" id="allin-9" class="allinInput" placeholder="All in金额" /></td>
			<td><div class="sidepoolres" id="sidepool9"></div></td>
		</tr>
	</table>
	<div id="calAllin" class="enrol">计算边池</div>
</div>
<div>

</div>

<script type="text/javascript">
$('#calAllin').click(function () {
	var allinvals = [];
	for (var i = 0; i < 9; i++) {
		if ($('#allin-'+(i+1)).val() != "") {
			allinvals.push(parseInt($('#allin-'+(i+1)).val()));
		}
	}
	allinvals.sort(function (a, b) {
		return (a < b ? 1 : (a > b ? -1 : 0));
	});
	var sidepools = [];
	var bound = allinvals.length;
	var i = 0;
	while (i < bound - 1) {
		sidepools.push(allinvals[bound - 1] * bound);
		for (var j = 0; j < bound - 1; j++) {
			allinvals[j] -= allinvals[bound - 1];
		}
		bound -= 1;
	}
	for (var i = 0; i < sidepools.length; i++) {
		$("#sidepool"+(i+1)).html(sidepools[i]);
	}
});
</script>

</body>
</html>